# vcv-rack-rust-plugin
This repository provides a **template for developing VCV Rack plugins using Rust**.

It extends the official C++ plugin boilerplate with a Rust-based audio engine, making it possible to develop modules with Rust while staying compatible with VCV Rack.

## How does it work?
- The template builds on top of VCV Rack‚Äôs default C++ Plugin/Module boilerplate (generated by Rack‚Äôs helper tool).
- In the `/rust` folder, you‚Äôll find a `Synth` struct containing the Rust implementation of the module‚Äôs DSP logic.
- This Synth struct is exposed to C++ using a [CXX bridge](https://cxx.rs/).
- The C++ `process` function delegates audio processing and parameter handling to Rust by calling methods on `Synth`.
This allows you to write DSP in Rust while keeping the Rack plugin interface in C++.

## Example module
The template includes a simple module that:
- Generates a sine wave.
- Lets you control pitch with a knob.
  
This example demonstrates how to pass parameters from C++ to Rust and pass audio samples from Rust back to C++. 

## Building and running
Follow the steps below to build and load the plugin in VCV Rack:

1. If necessary update the `RACK_DIR` in Makefile, so it matches your VCV rack directory. Also feel free to copy this template into your plugin directory.
2. Cd into the repo's main directory
```
cd vcv-rack-rust-plugin 
```
4. Compile the Rust code
```
cargo build --manifest-path=rust/Cargo.toml
```
3. Compile the C++ code
```
make install
```
4. Open VCV Rack and test the plugin! üéõÔ∏è

<img width="767" height="669" alt="Screenshot 2025-08-24 at 13 49 44" src="https://github.com/user-attachments/assets/434b3b44-83be-490e-932c-40d8eb4c464a" />

